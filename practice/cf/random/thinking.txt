1234321
5.....5
6.....6
7.....7
6.....6
5.....5
1234321

you have to have 4 of the same element for each row and column, and the corners of each square should be the same
the counts of cnt[x % 4 != 0] can not be greater than 1

12321
45654
78987
45654
12321

you should have exactly N - 1 sections of 2, and 1 section of 1, and (N - 1)^2 sections of 4

5
1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 2 2 2

5
1 2 3 2 1 4 5 6 5 4 7 8 9 8 7 4 5 6 5 4 1 2 3 2 1
